[
  {
    "kpi_id": "saas_mrr_001",
    "domain": "saas",
    "name": "Monthly Recurring Revenue (MRR)",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(subscription_amount) WHERE billing_period='monthly'",
    "columns_needed": ["subscription_amount"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Total predictable monthly subscription revenue",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_arr_001",
    "domain": "saas",
    "name": "Annual Recurring Revenue (ARR)",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(subscription_amount * 12)",
    "columns_needed": ["subscription_amount"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Annualized value of recurring subscription revenue",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_churn_001",
    "domain": "saas",
    "name": "Churn Rate %",
    "category": "Retention",
    "priority": 5,
    "formula_expr": "(COUNT_DISTINCT(canceled_subscriptions) / COUNT_DISTINCT(active_at_start)) * 100",
    "columns_needed": ["subscription_status", "subscription_id"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of customers who cancel their subscription",
    "unit": "percent",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_arpa_001",
    "domain": "saas",
    "name": "Average Revenue Per Account (ARPA)",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "SUM(subscription_amount) / COUNT_DISTINCT(account_id)",
    "columns_needed": ["subscription_amount", "account_id"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average revenue generated per customer account",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_new_mrr_001",
    "domain": "saas",
    "name": "New MRR",
    "category": "Growth",
    "priority": 4,
    "formula_expr": "SUM(subscription_amount) WHERE subscription_status='new'",
    "columns_needed": ["subscription_amount", "subscription_status"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "MRR from new customer subscriptions",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_expansion_mrr_001",
    "domain": "saas",
    "name": "Expansion MRR",
    "category": "Growth",
    "priority": 4,
    "formula_expr": "SUM(amount_increase) WHERE event='upgrade'",
    "columns_needed": ["subscription_amount", "subscription_status"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Additional MRR from existing customer upgrades",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_ltv_001",
    "domain": "saas",
    "name": "Customer Lifetime Value (LTV)",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "ARPA / (Churn Rate / 100)",
    "columns_needed": ["subscription_amount", "account_id", "subscription_status"],
    "time_grain": "month",
    "aggregation_type": "calculated",
    "description": "Predicted revenue from average customer over lifetime",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_cac_001",
    "domain": "saas",
    "name": "Customer Acquisition Cost (CAC)",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "SUM(marketing_spend + sales_spend) / COUNT_DISTINCT(new_accounts)",
    "columns_needed": ["marketing_spend", "sales_spend", "account_id"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average cost to acquire a new customer",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_mau_001",
    "domain": "saas",
    "name": "Monthly Active Users (MAU)",
    "category": "Engagement",
    "priority": 4,
    "formula_expr": "COUNT_DISTINCT(user_id) WHERE activity_date IN last_30_days",
    "columns_needed": ["user_id", "activity_date"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Number of unique users active in the month",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_nrr_001",
    "domain": "saas",
    "name": "Net Revenue Retention (NRR) %",
    "category": "Retention",
    "priority": 4,
    "formula_expr": "((Starting_MRR + Expansion - Churn - Contraction) / Starting_MRR) * 100",
    "columns_needed": ["subscription_amount", "subscription_status"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Revenue retention rate including expansion",
    "unit": "percent",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_avg_deal_size_001",
    "domain": "saas",
    "name": "Average Deal Size",
    "category": "Sales",
    "priority": 3,
    "formula_expr": "AVG(subscription_amount) WHERE subscription_status='new'",
    "columns_needed": ["subscription_amount", "subscription_status"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average value of new subscriptions",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_trial_conversion_001",
    "domain": "saas",
    "name": "Trial Conversion Rate %",
    "category": "Sales",
    "priority": 3,
    "formula_expr": "(COUNT_DISTINCT(trial_to_paid) / COUNT_DISTINCT(trials)) * 100",
    "columns_needed": ["subscription_status", "account_id"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of trial users converting to paid",
    "unit": "percent",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_usage_hours_001",
    "domain": "saas",
    "name": "Total Usage Hours",
    "category": "Engagement",
    "priority": 4,
    "formula_expr": "SUM(usage_hours)",
    "columns_needed": ["usage_hours"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total hours of platform usage",
    "unit": "hours",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_storage_usage_001",
    "domain": "saas",
    "name": "Total Storage Used (GB)",
    "category": "Engagement",
    "priority": 3,
    "formula_expr": "SUM(storage_gb)",
    "columns_needed": ["storage_gb"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total storage consumed by customers",
    "unit": "gigabytes",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_api_requests_001",
    "domain": "saas",
    "name": "Total API Requests",
    "category": "Engagement",
    "priority": 3,
    "formula_expr": "SUM(api_requests)",
    "columns_needed": ["api_requests"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total API calls made by customers",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_support_ticket_rate_001",
    "domain": "saas",
    "name": "Support Tickets per Customer",
    "category": "Support",
    "priority": 4,
    "formula_expr": "SUM(support_tickets) / COUNT_DISTINCT(customer_id)",
    "columns_needed": ["support_tickets", "customer_id"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Average support tickets per customer",
    "unit": "count",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_nps_score_001",
    "domain": "saas",
    "name": "Net Promoter Score (NPS)",
    "category": "Satisfaction",
    "priority": 5,
    "formula_expr": "AVG(nps)",
    "columns_needed": ["nps"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average customer satisfaction score",
    "unit": "score",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "saas_seat_utilization_001",
    "domain": "saas",
    "name": "Average Seats per Customer",
    "category": "Engagement",
    "priority": 3,
    "formula_expr": "AVG(seats)",
    "columns_needed": ["seats"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average number of seats purchased per account",
    "unit": "count",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_total_seats_001",
    "domain": "saas",
    "name": "Total Active Seats",
    "category": "Engagement",
    "priority": 4,
    "formula_expr": "SUM(seats)",
    "columns_needed": ["seats"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total seats across all customers",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_mrr_by_tier_001",
    "domain": "saas",
    "name": "MRR by Plan Tier",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "SUM(mrr) GROUP BY plan_tier",
    "columns_needed": ["mrr", "plan_tier"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Monthly recurring revenue breakdown by plan tier",
    "unit": "currency",
    "chart_hint": "pie"
  },
  {
    "kpi_id": "saas_customers_by_tier_001",
    "domain": "saas",
    "name": "Customers by Plan Tier",
    "category": "Sales",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(customer_id) GROUP BY plan_tier",
    "columns_needed": ["customer_id", "plan_tier"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Customer count by subscription tier",
    "unit": "count",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "saas_churn_by_tier_001",
    "domain": "saas",
    "name": "Churn Rate by Tier %",
    "category": "Retention",
    "priority": 4,
    "formula_expr": "(COUNT_DISTINCT(customer_id WHERE status='Churned') / COUNT_DISTINCT(customer_id)) * 100 GROUP BY plan_tier",
    "columns_needed": ["customer_id", "status", "plan_tier"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Churn rate breakdown by plan tier",
    "unit": "percent",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "saas_avg_usage_hours_001",
    "domain": "saas",
    "name": "Average Usage Hours per Customer",
    "category": "Engagement",
    "priority": 3,
    "formula_expr": "AVG(usage_hours)",
    "columns_needed": ["usage_hours"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average platform usage hours per customer",
    "unit": "hours",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_revenue_by_region_001",
    "domain": "saas",
    "name": "Revenue by Region",
    "category": "Geographic",
    "priority": 4,
    "formula_expr": "SUM(mrr) GROUP BY region",
    "columns_needed": ["mrr", "region"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "MRR breakdown by geographic region",
    "unit": "currency",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "saas_customers_by_size_001",
    "domain": "saas",
    "name": "Customers by Company Size",
    "category": "Segmentation",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(customer_id) GROUP BY company_size",
    "columns_needed": ["customer_id", "company_size"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Customer distribution by company size",
    "unit": "count",
    "chart_hint": "pie"
  },
  {
    "kpi_id": "saas_discount_usage_001",
    "domain": "saas",
    "name": "Discount Usage Rate %",
    "category": "Financial",
    "priority": 3,
    "formula_expr": "(COUNT_DISTINCT(subscription_id WHERE discount_percent > 0) / COUNT_DISTINCT(subscription_id)) * 100",
    "columns_needed": ["subscription_id", "discount_percent"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of subscriptions with discounts",
    "unit": "percent",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_avg_discount_percent_001",
    "domain": "saas",
    "name": "Average Discount %",
    "category": "Financial",
    "priority": 2,
    "formula_expr": "AVG(discount_percent)",
    "columns_needed": ["discount_percent"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average discount percentage offered",
    "unit": "percent",
    "chart_hint": "number"
  },
  {
    "kpi_id": "saas_total_revenue_001",
    "domain": "saas",
    "name": "Total Revenue",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(total_revenue)",
    "columns_needed": ["total_revenue"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Total revenue including all charges",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "saas_account_manager_performance_001",
    "domain": "saas",
    "name": "Revenue by Account Manager",
    "category": "Sales",
    "priority": 3,
    "formula_expr": "SUM(mrr) GROUP BY account_manager",
    "columns_needed": ["mrr", "account_manager"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "MRR managed by each account manager",
    "unit": "currency",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "saas_payment_method_distribution_001",
    "domain": "saas",
    "name": "Payment Method Distribution",
    "category": "Financial",
    "priority": 2,
    "formula_expr": "COUNT_DISTINCT(subscription_id) GROUP BY payment_method",
    "columns_needed": ["subscription_id", "payment_method"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Subscription count by payment method",
    "unit": "count",
    "chart_hint": "pie"
  },
  {
    "kpi_id": "saas_billing_cycle_distribution_001",
    "domain": "saas",
    "name": "Billing Cycle Distribution",
    "category": "Financial",
    "priority": 2,
    "formula_expr": "COUNT_DISTINCT(subscription_id) GROUP BY billing_cycle",
    "columns_needed": ["subscription_id", "billing_cycle"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Subscription count by billing frequency",
    "unit": "count",
    "chart_hint": "pie"
  }
]
