[
  {
    "kpi_id": "retail_revenue_001",
    "domain": "retail",
    "name": "Total Revenue",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(order_value)",
    "columns_needed": ["order_value"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total revenue from all transactions in period",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "retail_units_001",
    "domain": "retail",
    "name": "Units Sold",
    "category": "Sales",
    "priority": 5,
    "formula_expr": "SUM(quantity)",
    "columns_needed": ["quantity"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total number of units sold",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "retail_orders_001",
    "domain": "retail",
    "name": "Orders Count",
    "category": "Sales",
    "priority": 5,
    "formula_expr": "COUNT_DISTINCT(order_id)",
    "columns_needed": ["order_id"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Total number of orders placed",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "retail_aov_001",
    "domain": "retail",
    "name": "Average Order Value (AOV)",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "AVG(order_value)",
    "columns_needed": ["order_value"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average value per order",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "retail_customers_001",
    "domain": "retail",
    "name": "Customers Count",
    "category": "Sales",
    "priority": 4,
    "formula_expr": "COUNT_DISTINCT(customer_id)",
    "columns_needed": ["customer_id"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Total number of unique customers",
    "unit": "count",
    "chart_hint": "number"
  },
  {
    "kpi_id": "retail_profit_001",
    "domain": "retail",
    "name": "Gross Profit",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "SUM(order_value - product_cost)",
    "columns_needed": ["order_value", "product_cost"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total profit before operating expenses",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "retail_margin_001",
    "domain": "retail",
    "name": "Gross Margin %",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "(SUM(order_value - product_cost) / SUM(order_value)) * 100",
    "columns_needed": ["order_value", "product_cost"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Profit margin as percentage of revenue",
    "unit": "percent",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "retail_repeat_001",
    "domain": "retail",
    "name": "Repeat Purchase Rate %",
    "category": "Sales",
    "priority": 4,
    "formula_expr": "COUNT_DISTINCT(customers_with_2+_orders) / COUNT_DISTINCT(all_customers)",
    "columns_needed": ["customer_id", "order_id"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of customers who make repeat purchases",
    "unit": "percent",
    "chart_hint": "number"
  },
  {
    "kpi_id": "retail_inventory_001",
    "domain": "retail",
    "name": "Inventory Turnover",
    "category": "Operations",
    "priority": 4,
    "formula_expr": "SUM(cogs) / AVG(inventory)",
    "columns_needed": ["cogs", "inventory"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Rate at which inventory is sold and replaced",
    "unit": "ratio",
    "chart_hint": "number"
  },
  {
    "kpi_id": "retail_revenue_per_customer_001",
    "domain": "retail",
    "name": "Revenue per Customer",
    "category": "Financial",
    "priority": 3,
    "formula_expr": "SUM(order_value) / COUNT_DISTINCT(customer_id)",
    "columns_needed": ["order_value", "customer_id"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average revenue generated per customer",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "retail_category_revenue_001",
    "domain": "retail",
    "name": "Sales by Category",
    "category": "Sales",
    "priority": 3,
    "formula_expr": "SUM(order_value) BY category",
    "columns_needed": ["order_value", "category"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Revenue breakdown by product category",
    "unit": "currency",
    "chart_hint": "pie"
  },
  {
    "kpi_id": "retail_units_per_order_001",
    "domain": "retail",
    "name": "Units per Order",
    "category": "Sales",
    "priority": 3,
    "formula_expr": "AVG(SUM(quantity) per order)",
    "columns_needed": ["quantity", "order_id"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average number of units per order",
    "unit": "count",
    "chart_hint": "number"
  }
]
