[
  {
    "kpi_id": "financial_total_transactions_001",
    "domain": "financial",
    "name": "Total Transactions",
    "category": "Operations",
    "priority": 5,
    "formula_expr": "COUNT_DISTINCT(transaction_id)",
    "columns_needed": ["transaction_id"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Total number of financial transactions",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_total_transaction_value_001",
    "domain": "financial",
    "name": "Total Transaction Value",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(transaction_amount)",
    "columns_needed": ["transaction_amount"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total value of all transactions",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_avg_transaction_value_001",
    "domain": "financial",
    "name": "Average Transaction Value",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "AVG(transaction_amount)",
    "columns_needed": ["transaction_amount"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average value per transaction",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "financial_total_deposits_001",
    "domain": "financial",
    "name": "Total Deposits",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(amount WHERE transaction_type='Deposit')",
    "columns_needed": ["transaction_amount", "transaction_type"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total deposit amount",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_total_withdrawals_001",
    "domain": "financial",
    "name": "Total Withdrawals",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(amount WHERE transaction_type='Withdrawal')",
    "columns_needed": ["transaction_amount", "transaction_type"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total withdrawal amount",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_loan_disbursement_001",
    "domain": "financial",
    "name": "Total Loan Disbursements",
    "category": "Lending",
    "priority": 5,
    "formula_expr": "SUM(loan_amount WHERE status='Disbursed')",
    "columns_needed": ["loan_amount"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Total loans disbursed",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_loan_count_001",
    "domain": "financial",
    "name": "Total Loans Issued",
    "category": "Lending",
    "priority": 4,
    "formula_expr": "COUNT_DISTINCT(loan_id)",
    "columns_needed": ["loan_id"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Number of loans issued",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_avg_loan_amount_001",
    "domain": "financial",
    "name": "Average Loan Amount",
    "category": "Lending",
    "priority": 4,
    "formula_expr": "AVG(loan_amount)",
    "columns_needed": ["loan_amount"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average loan size",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "financial_npa_rate_001",
    "domain": "financial",
    "name": "Non-Performing Asset (NPA) Rate %",
    "category": "Risk",
    "priority": 5,
    "formula_expr": "(SUM(outstanding WHERE npa=true) / SUM(outstanding)) * 100",
    "columns_needed": ["outstanding", "npa"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of loans in NPA category",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "financial_default_rate_001",
    "domain": "financial",
    "name": "Default Rate %",
    "category": "Risk",
    "priority": 5,
    "formula_expr": "(COUNT_DISTINCT(loan_id WHERE default=true) / COUNT_DISTINCT(loan_id)) * 100",
    "columns_needed": ["loan_id", "default"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of loans in default",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "financial_total_interest_001",
    "domain": "financial",
    "name": "Total Interest Income",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(interest)",
    "columns_needed": ["interest"],
    "time_grain": "month",
    "aggregation_type": "sum",
    "description": "Total interest earned",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_avg_interest_rate_001",
    "domain": "financial",
    "name": "Average Interest Rate %",
    "category": "Lending",
    "priority": 4,
    "formula_expr": "AVG(interest_rate)",
    "columns_needed": ["interest_rate"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average interest rate on loans",
    "unit": "percent",
    "chart_hint": "number"
  },
  {
    "kpi_id": "financial_emi_collection_rate_001",
    "domain": "financial",
    "name": "EMI Collection Rate %",
    "category": "Operations",
    "priority": 4,
    "formula_expr": "(SUM(emi_received) / SUM(emi_due)) * 100",
    "columns_needed": ["emi"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of EMIs collected on time",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "financial_total_outstanding_001",
    "domain": "financial",
    "name": "Total Outstanding Amount",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(outstanding)",
    "columns_needed": ["outstanding"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total outstanding loan amount",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_overdue_amount_001",
    "domain": "financial",
    "name": "Total Overdue Amount",
    "category": "Risk",
    "priority": 5,
    "formula_expr": "SUM(overdue)",
    "columns_needed": ["overdue"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total overdue loan payments",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "financial_avg_account_balance_001",
    "domain": "financial",
    "name": "Average Account Balance",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "AVG(balance)",
    "columns_needed": ["balance"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average customer account balance",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "financial_transactions_by_branch_001",
    "domain": "financial",
    "name": "Transactions by Branch",
    "category": "Operations",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(transaction_id) GROUP BY branch_id",
    "columns_needed": ["transaction_id", "branch_id"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Transaction count by branch",
    "unit": "count",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "financial_loans_by_type_001",
    "domain": "financial",
    "name": "Loans by Type",
    "category": "Lending",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(loan_id) GROUP BY loan_type",
    "columns_needed": ["loan_id", "loan_type"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Loan distribution by type",
    "unit": "count",
    "chart_hint": "pie"
  },
  {
    "kpi_id": "financial_avg_credit_score_001",
    "domain": "financial",
    "name": "Average Credit Score",
    "category": "Risk",
    "priority": 3,
    "formula_expr": "AVG(credit_score)",
    "columns_needed": ["credit_score"],
    "time_grain": "month",
    "aggregation_type": "avg",
    "description": "Average customer credit score",
    "unit": "score",
    "chart_hint": "number"
  },
  {
    "kpi_id": "financial_new_accounts_001",
    "domain": "financial",
    "name": "New Accounts Opened",
    "category": "Growth",
    "priority": 4,
    "formula_expr": "COUNT_DISTINCT(account_id WHERE created_this_period=true)",
    "columns_needed": ["account_id"],
    "time_grain": "month",
    "aggregation_type": "count",
    "description": "Number of new accounts opened",
    "unit": "count",
    "chart_hint": "timeseries"
  }
]
