[
  {
    "kpi_id": "logistics_total_shipments_001",
    "domain": "logistics",
    "name": "Total Shipments",
    "category": "Operations",
    "priority": 5,
    "formula_expr": "COUNT_DISTINCT(shipment_id)",
    "columns_needed": ["shipment_id"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Total number of shipments",
    "unit": "count",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "logistics_total_freight_001",
    "domain": "logistics",
    "name": "Total Freight Revenue",
    "category": "Financial",
    "priority": 5,
    "formula_expr": "SUM(freight_charge)",
    "columns_needed": ["freight_charge"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total freight charges collected",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "logistics_avg_freight_001",
    "domain": "logistics",
    "name": "Average Freight per Shipment",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "AVG(freight_charge)",
    "columns_needed": ["freight_charge"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average freight charge per shipment",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "logistics_on_time_delivery_001",
    "domain": "logistics",
    "name": "On-Time Delivery Rate %",
    "category": "Performance",
    "priority": 5,
    "formula_expr": "(COUNT_DISTINCT(shipment_id WHERE delivery_date <= eta) / COUNT_DISTINCT(shipment_id)) * 100",
    "columns_needed": ["shipment_id", "delivery_date", "eta"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Percentage of shipments delivered on time",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "logistics_avg_transit_time_001",
    "domain": "logistics",
    "name": "Average Transit Time (Days)",
    "category": "Performance",
    "priority": 4,
    "formula_expr": "AVG(transit_time)",
    "columns_needed": ["transit_time"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average time in transit",
    "unit": "days",
    "chart_hint": "number"
  },
  {
    "kpi_id": "logistics_total_weight_001",
    "domain": "logistics",
    "name": "Total Weight Shipped (kg)",
    "category": "Operations",
    "priority": 4,
    "formula_expr": "SUM(weight)",
    "columns_needed": ["weight"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total weight of all shipments",
    "unit": "kilograms",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "logistics_total_distance_001",
    "domain": "logistics",
    "name": "Total Distance Traveled (km)",
    "category": "Operations",
    "priority": 3,
    "formula_expr": "SUM(distance)",
    "columns_needed": ["distance"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total kilometers traveled by all vehicles",
    "unit": "kilometers",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "logistics_delivery_success_rate_001",
    "domain": "logistics",
    "name": "Delivery Success Rate %",
    "category": "Performance",
    "priority": 5,
    "formula_expr": "(COUNT_DISTINCT(shipment_id WHERE status='Delivered') / COUNT_DISTINCT(shipment_id)) * 100",
    "columns_needed": ["shipment_id", "status"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Percentage of successful deliveries",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "logistics_shipments_by_origin_001",
    "domain": "logistics",
    "name": "Shipments by Origin",
    "category": "Geographic",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(shipment_id) GROUP BY origin",
    "columns_needed": ["shipment_id", "origin"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Shipment count by origin location",
    "unit": "count",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "logistics_shipments_by_destination_001",
    "domain": "logistics",
    "name": "Shipments by Destination",
    "category": "Geographic",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(shipment_id) GROUP BY destination",
    "columns_needed": ["shipment_id", "destination"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Shipment count by destination location",
    "unit": "count",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "logistics_vehicle_utilization_001",
    "domain": "logistics",
    "name": "Vehicle Utilization Rate %",
    "category": "Efficiency",
    "priority": 4,
    "formula_expr": "(COUNT_DISTINCT(vehicle_number WHERE in_use=true) / COUNT_DISTINCT(vehicle_number)) * 100",
    "columns_needed": ["vehicle_number"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Percentage of fleet actively in use",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "logistics_shipments_by_service_001",
    "domain": "logistics",
    "name": "Shipments by Service Type",
    "category": "Operations",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(shipment_id) GROUP BY service_type",
    "columns_needed": ["shipment_id", "service_type"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Shipment distribution by service type",
    "unit": "count",
    "chart_hint": "pie"
  },
  {
    "kpi_id": "logistics_damage_rate_001",
    "domain": "logistics",
    "name": "Damage Rate %",
    "category": "Quality",
    "priority": 4,
    "formula_expr": "(COUNT_DISTINCT(shipment_id WHERE damage=true) / COUNT_DISTINCT(shipment_id)) * 100",
    "columns_needed": ["shipment_id", "damage"],
    "time_grain": "month",
    "aggregation_type": "ratio",
    "description": "Percentage of shipments with damage claims",
    "unit": "percent",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "logistics_avg_loading_time_001",
    "domain": "logistics",
    "name": "Average Loading Time",
    "category": "Efficiency",
    "priority": 3,
    "formula_expr": "AVG(loading_time)",
    "columns_needed": ["loading_time"],
    "time_grain": "day",
    "aggregation_type": "avg",
    "description": "Average time to load shipments",
    "unit": "minutes",
    "chart_hint": "number"
  },
  {
    "kpi_id": "logistics_fuel_cost_001",
    "domain": "logistics",
    "name": "Total Fuel Cost",
    "category": "Financial",
    "priority": 4,
    "formula_expr": "SUM(fuel_cost)",
    "columns_needed": ["fuel_cost"],
    "time_grain": "day",
    "aggregation_type": "sum",
    "description": "Total fuel expenditure",
    "unit": "currency",
    "chart_hint": "timeseries"
  },
  {
    "kpi_id": "logistics_fuel_efficiency_001",
    "domain": "logistics",
    "name": "Fuel Efficiency (km/liter)",
    "category": "Efficiency",
    "priority": 3,
    "formula_expr": "SUM(distance) / SUM(fuel_consumption)",
    "columns_needed": ["distance", "fuel_consumption"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Average kilometers per liter of fuel",
    "unit": "km_per_liter",
    "chart_hint": "number"
  },
  {
    "kpi_id": "logistics_delay_rate_001",
    "domain": "logistics",
    "name": "Delay Rate %",
    "category": "Performance",
    "priority": 4,
    "formula_expr": "(COUNT_DISTINCT(shipment_id WHERE delay > 0) / COUNT_DISTINCT(shipment_id)) * 100",
    "columns_needed": ["shipment_id", "delay"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Percentage of delayed shipments",
    "unit": "percent",
    "chart_hint": "gauge"
  },
  {
    "kpi_id": "logistics_revenue_per_km_001",
    "domain": "logistics",
    "name": "Revenue per Kilometer",
    "category": "Financial",
    "priority": 3,
    "formula_expr": "SUM(freight_charge) / SUM(distance)",
    "columns_needed": ["freight_charge", "distance"],
    "time_grain": "day",
    "aggregation_type": "ratio",
    "description": "Average revenue earned per kilometer",
    "unit": "currency",
    "chart_hint": "number"
  },
  {
    "kpi_id": "logistics_driver_performance_001",
    "domain": "logistics",
    "name": "Deliveries per Driver",
    "category": "Operations",
    "priority": 3,
    "formula_expr": "COUNT_DISTINCT(shipment_id) GROUP BY driver_name",
    "columns_needed": ["shipment_id", "driver_name"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Delivery count by driver",
    "unit": "count",
    "chart_hint": "bar"
  },
  {
    "kpi_id": "logistics_warehouse_throughput_001",
    "domain": "logistics",
    "name": "Warehouse Throughput",
    "category": "Operations",
    "priority": 4,
    "formula_expr": "COUNT_DISTINCT(shipment_id) GROUP BY warehouse",
    "columns_needed": ["shipment_id", "warehouse"],
    "time_grain": "day",
    "aggregation_type": "count",
    "description": "Shipments processed by warehouse",
    "unit": "count",
    "chart_hint": "bar"
  }
]
